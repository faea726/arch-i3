
https://www.ianbashford.net/post/setupcloudflarewarplinuxarch/


Warp’s a free VPN offered by Cloudflare – see Cloudflare Clients are currently available for Android and IOS, with OSX and Windows in beta Warp Beta

Here’s how to set it up on linux from the command line

Setup Wireguard and the Cloudflare configuration tool
If you don’t use arch linux, go to wireguard installation

sudo pacman -S wireguard-tools
yay -S wgcf
You’ll need to keep the wireguard-tools installed, but wgcf is a onetime use

Setup Cloudflare profiles

wgcf register
wgcf generate
Copy the config

sudo cp wgcf-profile.conf /etc/wireguard
Start / Stop / Enable
Start

wg-quick up wgcf-profile
Stop

wg-quick up wgcf-profile
Enable

systemctl enable wg-quick@wgcf-profile
Tweaks
I like to use my local dns so I can resolve hosts on the local network - this setup uses 1.1.1.1 by default. Since I use the excellen dnscrypt, I’m comfortable doing this…

1
sudo vi /etc/wireguard/wgcf-profile.conf
and change the line DNS = 1.1.1.1 to your local secure dnscrypt server.
